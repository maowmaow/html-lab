<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>HTML5 - Example 8: Post Message</title>
	<link rel="shortcut icon" href="../favicon.png" />
	<link rel="stylesheet" href="../bootstrap.min.css" />
	<link rel="stylesheet" href="../style.css" />
</head>
<body>

	<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html">HTML5 Course</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li>
            	<a href="../index.html">Home</a>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    
	<div class="container">
		<div class="row">
			<div class="col-md-6">	
				<h3>This is parent page</h3>
				<form role="form">
					<input type="text" id="input" /><button type="submit" class="btn btn-primary" id="btn">Submit</button>
				</form>
				<output id="output"></output>
			</div>
			<iframe src="http://localhost/examples/8_postmessage_target.html" class="col-md-6"></iframe>
		</div>
	</div>
	
	<script>
	
	var input = document.getElementById('input');
	var btn = document.getElementById('btn');
	var output = document.getElementById('output');
	
	btn.addEventListener('click', function(e) {
		e.preventDefault();
		
		window.frames[0].hello(input.value);
		//window.frames[0].postMessage(input.value, 'http://localhost');
	});
	
	function hello(message) {
		output.innerHTML = message;
	}
	
	/*
	window.addEventListener('message', function(e) {
		hello(e.data);
	});
	*/
	</script>
</body>
</html>